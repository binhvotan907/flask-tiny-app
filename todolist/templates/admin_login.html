{% extends "base.html" %} 
{% block title %}Đăng nhập Admin{% endblock %} 
{% block content %}

<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh; background: linear-gradient(135deg, #e3f2fd, #bbdefb);">
  <div class="card p-4 shadow-lg border-0" style="width: 400px; border-radius: 15px; background: #ffffff;">
    <h3 class="text-center mb-3" style="font-weight: 600; color: #1e88e5;">Đăng nhập Admin</h3>

    <!-- Hiển thị thông báo lỗi -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-danger" role="alert">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="/admin/login">
      {{ form.hidden_tag() }} <!-- CSRF Token -->
      
      <!-- Nhập Email -->
      <div class="form-group">
        <label for="email" style="font-weight: 500; color: #333;">Địa chỉ Email</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" style="background: #f1f8ff; border: none; color: #1e88e5;">
              <i class="fas fa-envelope"></i>
            </span>
          </div>
          <input type="email" class="form-control" id="email" name="email" placeholder="Nhập email" required 
                 style="border-left: none; border-radius: 0 8px 8px 0;">
        </div>
      </div>

      <!-- Nhập Mật khẩu -->
      <div class="form-group">
        <label for="password" style="font-weight: 500; color: #333;">Mật khẩu</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" style="background: #f1f8ff; border: none; color: #1e88e5;">
              <i class="fas fa-lock"></i>
            </span>
          </div>
          <input type="password" class="form-control" id="password" name="password" placeholder="Nhập mật khẩu" required 
                 style="border-left: none; border-radius: 0 8px 8px 0;">
          <div class="input-group-append">
            <button class="btn btn-light" type="button" onclick="togglePassword()">
              <i class="fas fa-eye"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Nút Đăng nhập -->
      <button type="submit" class="btn btn-primary btn-block mt-3" 
              style="border-radius: 8px; background: linear-gradient(90deg, #1e88e5, #42a5f5); border: none; font-weight: 500;">
        <i class="fas fa-sign-in-alt mr-2"></i>Đăng nhập
      </button>
    </form>
  </div>
</div>

<!-- Script Hiện/Ẩn Mật khẩu -->
<script>
  function togglePassword() {
    var passwordField = document.getElementById("password");
    var icon = event.target;
    if (passwordField.type === "password") {
      passwordField.type = "text";
      icon.classList.remove("fa-eye");
      icon.classList.add("fa-eye-slash");
    } else {
      passwordField.type = "password";
      icon.classList.remove("fa-eye-slash");
      icon.classList.add("fa-eye");
    }
  }
</script>

{% endblock %}
